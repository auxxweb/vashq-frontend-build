import{r as t,a as m,u as l,j as e,V as x,T as f,C as h,b as j,c as p,d as u,e as b,F as g}from"./index-D5eo3nMI.js";import{M as N}from"./medal-5QBOKlCK.js";import{C as y}from"./clock-D1mc0Irk.js";function L(){const[d,o]=t.useState([]),[n,c]=t.useState(!0);t.useEffect(()=>{i()},[]);const i=async()=>{var s,a;try{const r=await m.get("/admin/leaderboard");r.data.success?o(r.data.leaderboard||[]):l.error("Failed to load leaderboard")}catch(r){l.error(((a=(s=r.response)==null?void 0:s.data)==null?void 0:a.message)||"Failed to load leaderboard")}finally{c(!1)}};return n?e.jsx("div",{className:"flex justify-center items-center w-full",children:e.jsx(x,{size:"section"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-semibold tracking-tight flex items-center gap-2",children:[e.jsx(f,{className:"h-7 w-7 text-amber-500"}),"Leaderboard"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Performance by completed jobs and average completion time (assigned jobs only)."})]}),e.jsxs(h,{children:[e.jsxs(j,{children:[e.jsx(p,{children:"Employee performance"}),e.jsx(u,{children:"Ranked by completed (delivered) jobs assigned to each employee."})]}),e.jsx(b,{children:d.length===0?e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No data yet. Assign jobs to employees to see the leaderboard."}):e.jsx("div",{className:"space-y-3",children:d.map((s,a)=>e.jsxs("div",{className:`flex flex-wrap items-center justify-between gap-4 p-4 rounded-lg border ${a===0?"bg-amber-50 border-amber-200":a===1?"bg-slate-50 border-slate-200":a===2?"bg-orange-50/50 border-orange-200":"bg-muted/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary font-bold",children:a===0?e.jsx(N,{className:"h-5 w-5"}):a+1}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:e.jsx("span",{className:"font-mono text-xs",children:s.employeeCode})})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:s.completedCount}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-semibold",children:s.avgCompletionMinutes}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"min avg"})]})]})]},s.userId))})})]})]})}export{L as default};
