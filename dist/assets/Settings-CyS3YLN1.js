import{r as c,a as p,u as d,j as e,V as m,C as F,b as P,c as b,d as L,e as D,L as i,I as o,f as V}from"./index-DbUb8UN5.js";import{S as g,a as x,b as f,c as j,d as r}from"./select-hUrauEON.js";const v={platformName:"Vashq",supportEmail:"",supportPhone:"",defaultCurrency:"USD",defaultLanguage:"en"};function R(){const[a,l]=c.useState(v),[u,h]=c.useState(!1),[S,C]=c.useState(!0);c.useEffect(()=>{y()},[]);const y=async()=>{var s,n;try{const t=await p.get("/super-admin/settings");t.data.success&&t.data.settings&&l({...v,...t.data.settings})}catch(t){d.error(((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to load settings")}finally{C(!1)}},N=async()=>{var s,n;h(!0);try{const t=await p.put("/super-admin/settings",a);t.data.success?(d.success("Settings saved successfully"),t.data.settings&&l(E=>({...E,...t.data.settings}))):d.error("Failed to save settings")}catch(t){d.error(((n=(s=t.response)==null?void 0:s.data)==null?void 0:n.message)||"Failed to save settings")}finally{h(!1)}};return S?e.jsx("div",{className:"flex justify-center items-center w-full",children:e.jsx(m,{size:"section"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-800",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"Manage platform settings and preferences"})]}),e.jsxs(F,{children:[e.jsxs(P,{children:[e.jsx(b,{children:"Platform Settings"}),e.jsx(L,{children:"Configure general platform settings. These apply across the platform."})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"platformName",children:"Platform Name"}),e.jsx(o,{id:"platformName",value:a.platformName,onChange:s=>l({...a,platformName:s.target.value}),placeholder:"Vashq"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"supportEmail",children:"Support Email"}),e.jsx(o,{id:"supportEmail",type:"email",value:a.supportEmail,onChange:s=>l({...a,supportEmail:s.target.value}),placeholder:"support@example.com"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"supportPhone",children:"Support Phone"}),e.jsx(o,{id:"supportPhone",value:a.supportPhone,onChange:s=>l({...a,supportPhone:s.target.value}),placeholder:"+1234567890"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"defaultCurrency",children:"Default Currency"}),e.jsxs(g,{value:a.defaultCurrency||"USD",onValueChange:s=>l({...a,defaultCurrency:s}),children:[e.jsx(x,{id:"defaultCurrency",children:e.jsx(f,{placeholder:"Select currency"})}),e.jsxs(j,{children:[e.jsx(r,{value:"USD",children:"USD ($)"}),e.jsx(r,{value:"EUR",children:"EUR (€)"}),e.jsx(r,{value:"GBP",children:"GBP (£)"}),e.jsx(r,{value:"INR",children:"INR (₹)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Applies to the entire platform. Car wash admins cannot change this."})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"defaultLanguage",children:"Default Language"}),e.jsxs(g,{value:a.defaultLanguage,onValueChange:s=>l({...a,defaultLanguage:s}),children:[e.jsx(x,{children:e.jsx(f,{placeholder:"Select language"})}),e.jsxs(j,{children:[e.jsx(r,{value:"en",children:"English"}),e.jsx(r,{value:"es",children:"Spanish"}),e.jsx(r,{value:"ar",children:"Arabic"}),e.jsx(r,{value:"fr",children:"French"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-border",children:e.jsx(V,{onClick:N,disabled:u,className:"min-h-[44px]",children:u?e.jsxs(e.Fragment,{children:[e.jsx(m,{size:"inline",className:"mr-2"})," Saving..."]}):"Save Settings"})})]})]})]})}export{R as default};
